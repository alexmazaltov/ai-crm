# Cursor CRM Rules

## Company Context
Company: [YOUR_COMPANY_NAME]
Product: [YOUR_PRODUCT_DESCRIPTION]
Target: [YOUR_ICP - e.g., "AI startups needing training data"]

---

## CRM Architecture

### Master Tables

```
sales/crm/
├── crm_companies_master.csv   ← Companies (website as PK)
├── crm_people_master.csv      ← People (linkedin_url as PK)
├── crm_outreach_activities.csv ← Activity log
└── crm_sources.csv            ← Source tracking

sales/leads/
├── leads_companies_raw.csv    ← Raw company intake
└── leads_people_raw.csv       ← Raw people intake
```

### Pipeline Flow
```
Data Source → leads_*_raw.csv → crm_*_master.csv → outreach → activities
                (staging)         (validated)
```

---

## Schema Definitions

### crm_companies_master.csv
```
company_id          - UUID (auto-generated)
company_name        - string (required)
website             - string (PK, unique identifier)
linkedin_company_url - string
stage               - seed/series_a/series_b/growth
funding_amount      - string
funding_date        - YYYY-MM
ai_focus            - string (what AI/ML they do)
vertical            - string (industry)
geo                 - string (location)
signal_type         - funding/hiring/product_launch/partnership
signal_source_url   - URL (required if signal_type set)
primary_source      - string (single value)
source_tags         - comma-separated tags
status              - new/researched/contacted/meeting/won/lost
priority            - hot/medium/low
notes               - string
created_date        - YYYY-MM-DD
last_updated        - YYYY-MM-DD (ALWAYS update this!)
```

### crm_people_master.csv
```
person_id           - UUID (auto-generated)
linkedin_url        - string (PK, must contain linkedin.com)
first_name          - string (required)
last_name           - string (required)
company_website     - string (FK to companies)
company_name        - string
role                - string
email               - string
connection_degree   - 1/2/3
mutual_connections_count - integer
primary_source      - string (single value)
source_tags         - comma-separated tags
status              - new/researched/contacted/responded/meeting/won/lost
priority            - hot/medium/low
personalization_hook - string (1 sentence max)
hook_source_url     - URL
notes               - string
last_contact_date   - YYYY-MM-DD
next_followup_date  - YYYY-MM-DD
created_date        - YYYY-MM-DD
last_updated        - YYYY-MM-DD (ALWAYS update this!)
```

### crm_outreach_activities.csv
```
activity_id         - UUID
linkedin_url        - string (FK to people)
date                - YYYY-MM-DD
channel             - linkedin/email/twitter/telegram/whatsapp
activity_type       - dm/connect_request/followup/email/call/research
message_preview     - string (first 100 chars)
result              - sent/replied/no_response/accepted/rejected
response_quality    - positive/neutral/negative/meeting
next_followup_date  - YYYY-MM-DD
audience_segment    - string (e.g., series_a, enterprise)
hook_type           - string (e.g., funding, hiring, mutual_connection)
notes               - string
```

---

## Data Validation Rules

### Before ANY write to master tables:

**For Companies:**
- [ ] company_name OR website is not empty
- [ ] If signal_type set → signal_source_url must be set
- [ ] last_updated = today's date
- [ ] Check for duplicate by website before adding

**For People:**
- [ ] linkedin_url contains "linkedin.com" (if provided)
- [ ] first_name is not empty
- [ ] last_name is not empty
- [ ] last_updated = today's date
- [ ] Check for duplicate by linkedin_url before adding

---

## Status vs Priority (STRICT!)

### Status = Funnel Stage
- new → researched → contacted → responded → meeting → won/lost

### Priority = Importance
- hot / medium / low

**NEVER use "Hot" or "Cold" as status!**

---

## Skills

### SKILL: Add New Lead

1. Check if already exists (by website or linkedin_url)
2. If exists → UPDATE existing record
3. If new → ADD with all required fields
4. Generate UUID for ID
5. Set created_date = today
6. Set last_updated = today

### SKILL: Update CRM Record

1. Find record by PK (linkedin_url or website)
2. Read current values
3. Update only specified fields
4. ALWAYS set last_updated = today
5. If status changed → add note explaining why

### SKILL: Query CRM

Common queries:
```python
import pandas as pd

# Hot leads ready for outreach
df = pd.read_csv('sales/crm/crm_people_master.csv')
hot = df[(df['priority'] == 'hot') & (df['status'] == 'researched')]

# By source
df[df['source_tags'].str.contains('yc', na=False)]

# Follow-ups due today
from datetime import date
df[df['next_followup_date'] == str(date.today())]
```

### SKILL: Log Outreach Activity

After ANY outreach:
1. Add row to crm_outreach_activities.csv
2. Update person's last_contact_date
3. Set next_followup_date (typically +7 days)
4. Update person's status if needed

### SKILL: Research Lead

Before marking as "researched":
1. Check company website (is it active?)
2. Check LinkedIn company page
3. Check person's LinkedIn profile
4. Look for recent activity (posts, news)
5. Find personalization hook
6. Document in personalization_hook field
7. Update status: new → researched

---

## Outreach Principles

1. **EQUAL TO EQUAL** — we're business partners, not begging
2. **CONTEXT IS CRITICAL** — check conversation history first
3. **SPECIFIC HYPOTHESIS** — not generic "we can help"
4. **DIRECT QUESTION** — ask if problem is relevant
5. **EASY OUT** — let them say no gracefully

### BANNED phrases:
- "If you need..."
- "We can help..."
- "Let me know if interested"
- "I'd love to..."
- "Happy to chat"
- "Congrats on funding!" (as opener)

### Message structure:
1. Hypothesis about their business
2. Where the pain might be
3. Direct question (is this a problem?)
4. Easy out

---

## Common Requests

### "Show hot leads"
```bash
grep ",hot," sales/crm/crm_companies_master.csv
```

### "Who needs follow-up today?"
```python
import pandas as pd
from datetime import date
df = pd.read_csv('sales/crm/crm_people_master.csv')
df[df['next_followup_date'] == str(date.today())]
```

### "Add company X to CRM"
→ Use SKILL: Add New Lead

### "Research person Y"
→ Use SKILL: Research Lead

### "Log that I contacted Z"
→ Use SKILL: Log Outreach Activity

---

## Tips

1. **Always update last_updated** when changing any record
2. **Log every outreach** to build learnings
3. **Check conversation history** before writing to someone again
4. **Keep messages short** (3-5 sentences max)
5. **Work in small increments** — one change at a time
